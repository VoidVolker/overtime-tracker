// Generated by CoffeeScript 2.7.0
var Application, HomePage, Notification;

Application = (function() {
  class Application {
    constructor() {
      switch (window.location.pathname) {
        case '/':
          this.page = new HomePage();
      }
    }

  };

  Application.default = {
    notification: {
      timeout: 5000
    }
  };

  return Application;

}).call(this);

HomePage = class HomePage {
  constructor() {
    var approval, approvalsCnt, approveBtn, confirmation, confirmationBtn, confirmationsCnt, i, j, len, len1, ref, ref1;
    confirmationsCnt = $('#pending-confirmations');
    approvalsCnt = $('#pending-approvals');
    // For employee
    if (confirmationsCnt.length === 1) {
      this.confirmations = $('.confirmation', confirmationsCnt);
      ref = this.confirmations;
      for (i = 0, len = ref.length; i < len; i++) {
        confirmation = ref[i];
        confirmationBtn = $('.confirm-audit-log', confirmation);
        confirmationBtn.click(function() {
          var btn, btn$, path;
          btn = this;
          btn$ = $(this);
          path = btn$.data('path');
          return UIkit.modal.confirm('Are you sure you want to confirm that you did not perform any overtime?').then(function() {
            return $.get(path, function(post) {
              return btn$.prop('disabled', true);
            }).fail(function() {
              return Notification('danger', 'Post approving failed');
            });
          });
        });
      }
    // For admin
    } else if (approvalsCnt.length > 0) {
      this.approvals = $('.approval', approvalsCnt);
      ref1 = this.approvals;
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        approval = ref1[j];
        approveBtn = $('.approve-post', approval);
        approveBtn[0].label = $('.uk-label', approval);
        approveBtn.click(function() {
          var btn, btn$, path;
          btn = this;
          btn$ = $(this);
          path = btn$.data('path');
          return $.get(path, function(post) {
            btn.label.removeClass('uk-label-warning');
            btn.label.addClass('uk-label-success');
            return btn.label.text(post.status);
          }).fail(function() {
            return Notification('danger', 'Post approving failed');
          });
        });
      }
    }
  }

};

window.Notification = Notification = function(type, msg, timeout = Application.default.notification.timeout) {
  var icon;
  switch (type) {
    case 'success':
      icon = 'check';
      break;
    case 'warning':
      icon = 'exclamation';
      break;
    case 'danger':
      icon = 'exclamation-triangle'; // 'alert' type or something else can be
      break;
    default:
      type = 'primary';
      icon = 'bell';
  }
  return UIkit.notification({
    message: `<i class=\"fas fa-${icon}\"></i>&nbsp;&nbsp;${msg}`,
    status: `${type}-hivis`,
    pos: 'top-center',
    timeout: timeout
  });
};

$(function() {
  return window.APP = new Application();
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uLyIsInNvdXJjZXMiOlsiYXBwL2phdmFzY3JpcHQvcGFja3MvYXBwLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBOztBQUFNO0VBQU4sTUFBQSxZQUFBO0lBS0ksV0FBYSxDQUFBLENBQUE7QUFDVCxjQUFPLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBdkI7QUFBQSxhQUNTLEdBRFQ7VUFDa0IsSUFBQyxDQUFBLElBQUQsR0FBUSxJQUFJLFFBQUosQ0FBQTtBQUQxQjtJQURTOztFQUxqQjs7RUFDSSxXQUFDLENBQUEsT0FBRCxHQUNJO0lBQUEsWUFBQSxFQUNJO01BQUEsT0FBQSxFQUFTO0lBQVQ7RUFESjs7Ozs7O0FBT0YsV0FBTixNQUFBLFNBQUE7RUFDSSxXQUFhLENBQUEsQ0FBQTtBQUNqQixRQUFBLFFBQUEsRUFBQSxZQUFBLEVBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxlQUFBLEVBQUEsZ0JBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBO0lBQVEsZ0JBQUEsR0FBbUIsQ0FBQSxDQUFFLHdCQUFGO0lBQ25CLFlBQUEsR0FBZSxDQUFBLENBQUUsb0JBQUYsRUFEdkI7O0lBR1EsSUFBRyxnQkFBZ0IsQ0FBQyxNQUFqQixLQUEyQixDQUE5QjtNQUNJLElBQUMsQ0FBQSxhQUFELEdBQWlCLENBQUEsQ0FBRSxlQUFGLEVBQW1CLGdCQUFuQjtBQUNqQjtNQUFBLEtBQUEscUNBQUE7O1FBQ0ksZUFBQSxHQUFrQixDQUFBLENBQUUsb0JBQUYsRUFBd0IsWUFBeEI7UUFDbEIsZUFBZSxDQUFDLEtBQWhCLENBQXNCLFFBQUEsQ0FBQSxDQUFBO0FBQ3RDLGNBQUEsR0FBQSxFQUFBLElBQUEsRUFBQTtVQUFvQixHQUFBLEdBQU07VUFDTixJQUFBLEdBQU8sQ0FBQSxDQUFFLElBQUY7VUFDUCxJQUFBLEdBQU8sSUFBSSxDQUFDLElBQUwsQ0FBVSxNQUFWO2lCQUNQLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBWixDQUFvQix5RUFBcEIsQ0FBOEYsQ0FBQyxJQUEvRixDQUNJLFFBQUEsQ0FBQSxDQUFBO21CQUNJLENBQUMsQ0FBQyxHQUFGLENBQU8sSUFBUCxFQUFhLFFBQUEsQ0FBQyxJQUFELENBQUE7cUJBQ1QsSUFBSSxDQUFDLElBQUwsQ0FBVSxVQUFWLEVBQXNCLElBQXRCO1lBRFMsQ0FBYixDQUVDLENBQUMsSUFGRixDQUVPLFFBQUEsQ0FBQSxDQUFBO3FCQUNILFlBQUEsQ0FBYSxRQUFiLEVBQXVCLHVCQUF2QjtZQURHLENBRlA7VUFESixDQURKO1FBSmtCLENBQXRCO01BRkosQ0FGSjs7S0FBQSxNQWdCSyxJQUFHLFlBQVksQ0FBQyxNQUFiLEdBQXNCLENBQXpCO01BQ0QsSUFBQyxDQUFBLFNBQUQsR0FBYSxDQUFBLENBQUUsV0FBRixFQUFlLFlBQWY7QUFDYjtNQUFBLEtBQUEsd0NBQUE7O1FBQ0ksVUFBQSxHQUFhLENBQUEsQ0FBRSxlQUFGLEVBQW1CLFFBQW5CO1FBQ2IsVUFBVSxDQUFDLENBQUQsQ0FBRyxDQUFDLEtBQWQsR0FBc0IsQ0FBQSxDQUFFLFdBQUYsRUFBZSxRQUFmO1FBQ3RCLFVBQVUsQ0FBQyxLQUFYLENBQWlCLFFBQUEsQ0FBQSxDQUFBO0FBQ2pDLGNBQUEsR0FBQSxFQUFBLElBQUEsRUFBQTtVQUFvQixHQUFBLEdBQU07VUFDTixJQUFBLEdBQU8sQ0FBQSxDQUFFLElBQUY7VUFDUCxJQUFBLEdBQU8sSUFBSSxDQUFDLElBQUwsQ0FBVSxNQUFWO2lCQUNQLENBQUMsQ0FBQyxHQUFGLENBQU8sSUFBUCxFQUFhLFFBQUEsQ0FBQyxJQUFELENBQUE7WUFDVCxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVYsQ0FBc0Isa0JBQXRCO1lBQ0EsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFWLENBQW1CLGtCQUFuQjttQkFDQSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQVYsQ0FBZSxJQUFJLENBQUMsTUFBcEI7VUFIUyxDQUFiLENBSUMsQ0FBQyxJQUpGLENBSU8sUUFBQSxDQUFBLENBQUE7bUJBQ0gsWUFBQSxDQUFhLFFBQWIsRUFBdUIsdUJBQXZCO1VBREcsQ0FKUDtRQUphLENBQWpCO01BSEosQ0FGQzs7RUFwQkk7O0FBRGpCOztBQXFDQSxNQUFNLENBQUMsWUFBUCxHQUFzQixZQUFBLEdBQWUsUUFBQSxDQUFDLElBQUQsRUFBTyxHQUFQLEVBQVksVUFBVSxXQUFXLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxPQUF2RCxDQUFBO0FBQ3JDLE1BQUE7QUFBSSxVQUFPLElBQVA7QUFBQSxTQUNTLFNBRFQ7TUFDd0IsSUFBQSxHQUFPO0FBQXRCO0FBRFQsU0FFUyxTQUZUO01BRXdCLElBQUEsR0FBTztBQUF0QjtBQUZULFNBR1MsUUFIVDtNQUd3QixJQUFBLEdBQU8sdUJBSC9CO0FBR1M7QUFIVDtNQUtRLElBQUEsR0FBTztNQUNQLElBQUEsR0FBTztBQU5mO1NBUUEsS0FBSyxDQUFDLFlBQU4sQ0FDSTtJQUFBLE9BQUEsRUFBUyxDQUFBLGtCQUFBLENBQUEsQ0FBcUIsSUFBckIsQ0FBQSxtQkFBQSxDQUFBLENBQStDLEdBQS9DLENBQUEsQ0FBVDtJQUNBLE1BQUEsRUFBUSxDQUFBLENBQUEsQ0FBRyxJQUFILENBQUEsTUFBQSxDQURSO0lBRUEsR0FBQSxFQUFLLFlBRkw7SUFHQSxPQUFBLEVBQVM7RUFIVCxDQURKO0FBVGlDOztBQWdCckMsQ0FBQSxDQUFFLFFBQUEsQ0FBQSxDQUFBO1NBQUcsTUFBTSxDQUFDLEdBQVAsR0FBYSxJQUFJLFdBQUosQ0FBQTtBQUFoQixDQUFGIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBwbGljYXRpb25cbiAgICBAZGVmYXVsdCA9XG4gICAgICAgIG5vdGlmaWNhdGlvbjpcbiAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDBcblxuICAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAgICBzd2l0Y2ggd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICAgICB3aGVuICcvJyB0aGVuIEBwYWdlID0gbmV3IEhvbWVQYWdlXG5cbmNsYXNzIEhvbWVQYWdlXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICAgIGNvbmZpcm1hdGlvbnNDbnQgPSAkICcjcGVuZGluZy1jb25maXJtYXRpb25zJ1xuICAgICAgICBhcHByb3ZhbHNDbnQgPSAkICcjcGVuZGluZy1hcHByb3ZhbHMnXG4gICAgICAgICMgRm9yIGVtcGxveWVlXG4gICAgICAgIGlmIGNvbmZpcm1hdGlvbnNDbnQubGVuZ3RoIGlzIDFcbiAgICAgICAgICAgIEBjb25maXJtYXRpb25zID0gJCAnLmNvbmZpcm1hdGlvbicsIGNvbmZpcm1hdGlvbnNDbnRcbiAgICAgICAgICAgIGZvciBjb25maXJtYXRpb24gaW4gQGNvbmZpcm1hdGlvbnNcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25CdG4gPSAkICcuY29uZmlybS1hdWRpdC1sb2cnLCBjb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25CdG4uY2xpY2sgLT5cbiAgICAgICAgICAgICAgICAgICAgYnRuID0gQFxuICAgICAgICAgICAgICAgICAgICBidG4kID0gJCBAXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBidG4kLmRhdGEgJ3BhdGgnXG4gICAgICAgICAgICAgICAgICAgIFVJa2l0Lm1vZGFsLmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb25maXJtIHRoYXQgeW91IGRpZCBub3QgcGVyZm9ybSBhbnkgb3ZlcnRpbWU/JykudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIC0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5nZXQoIHBhdGgsIChwb3N0KSAtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidG4kLnByb3AgJ2Rpc2FibGVkJywgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuZmFpbCAtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24gJ2RhbmdlcicsICdQb3N0IGFwcHJvdmluZyBmYWlsZWQnXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgIyBGb3IgYWRtaW5cbiAgICAgICAgZWxzZSBpZiBhcHByb3ZhbHNDbnQubGVuZ3RoID4gMFxuICAgICAgICAgICAgQGFwcHJvdmFscyA9ICQgJy5hcHByb3ZhbCcsIGFwcHJvdmFsc0NudFxuICAgICAgICAgICAgZm9yIGFwcHJvdmFsIGluIEBhcHByb3ZhbHNcbiAgICAgICAgICAgICAgICBhcHByb3ZlQnRuID0gJCAnLmFwcHJvdmUtcG9zdCcsIGFwcHJvdmFsXG4gICAgICAgICAgICAgICAgYXBwcm92ZUJ0blswXS5sYWJlbCA9ICQgJy51ay1sYWJlbCcsIGFwcHJvdmFsXG4gICAgICAgICAgICAgICAgYXBwcm92ZUJ0bi5jbGljayAtPlxuICAgICAgICAgICAgICAgICAgICBidG4gPSBAXG4gICAgICAgICAgICAgICAgICAgIGJ0biQgPSAkIEBcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IGJ0biQuZGF0YSAncGF0aCdcbiAgICAgICAgICAgICAgICAgICAgJC5nZXQoIHBhdGgsIChwb3N0KSAtPlxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmxhYmVsLnJlbW92ZUNsYXNzICd1ay1sYWJlbC13YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmxhYmVsLmFkZENsYXNzICd1ay1sYWJlbC1zdWNjZXNzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgYnRuLmxhYmVsLnRleHQgcG9zdC5zdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgKS5mYWlsIC0+XG4gICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24gJ2RhbmdlcicsICdQb3N0IGFwcHJvdmluZyBmYWlsZWQnXG5cbndpbmRvdy5Ob3RpZmljYXRpb24gPSBOb3RpZmljYXRpb24gPSAodHlwZSwgbXNnLCB0aW1lb3V0ID0gQXBwbGljYXRpb24uZGVmYXVsdC5ub3RpZmljYXRpb24udGltZW91dCkgLT5cbiAgICBzd2l0Y2ggdHlwZVxuICAgICAgICB3aGVuICdzdWNjZXNzJyB0aGVuIGljb24gPSAnY2hlY2snXG4gICAgICAgIHdoZW4gJ3dhcm5pbmcnIHRoZW4gaWNvbiA9ICdleGNsYW1hdGlvbidcbiAgICAgICAgd2hlbiAnZGFuZ2VyJyAgdGhlbiBpY29uID0gJ2V4Y2xhbWF0aW9uLXRyaWFuZ2xlJ1xuICAgICAgICBlbHNlICMgJ2FsZXJ0JyB0eXBlIG9yIHNvbWV0aGluZyBlbHNlIGNhbiBiZVxuICAgICAgICAgICAgdHlwZSA9ICdwcmltYXJ5J1xuICAgICAgICAgICAgaWNvbiA9ICdiZWxsJ1xuXG4gICAgVUlraXQubm90aWZpY2F0aW9uKFxuICAgICAgICBtZXNzYWdlOiBcIjxpIGNsYXNzPVxcXCJmYXMgZmEtI3tpY29ufVxcXCI+PC9pPiZuYnNwOyZuYnNwOyN7bXNnfVwiXG4gICAgICAgIHN0YXR1czogXCIje3R5cGV9LWhpdmlzXCJcbiAgICAgICAgcG9zOiAndG9wLWNlbnRlcidcbiAgICAgICAgdGltZW91dDogdGltZW91dFxuICAgIClcblxuJCAtPiB3aW5kb3cuQVBQID0gbmV3IEFwcGxpY2F0aW9uXG4iXX0=
//# sourceURL=/home/me/projects/overtime-tracker/app/javascript/packs/app.coffee